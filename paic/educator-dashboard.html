<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Educator Dashboard | Purpose Engine</title>
  <link rel="icon" type="image/png" href="uplift-logo.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=Instrument+Serif:ital@0;1&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="variables.css">
  <style>
    :root {
      --primary: #0067b1;
      --primary-dark: #004b85;
      --primary-light: #5091cd;
      --primary-glow: rgba(0, 103, 177, 0.3);
      --orange: #FF6F00;
      --orange-light: #FFB74D;
      --navy: #0D1421;
      --navy-light: #1a2332;
      --success: #10B981;
      --warning: #F59E0B;
      --danger: #EF4444;
      --purple: #8B5CF6;
      --pink: #EC4899;
      --gray-50: #F8FAFC;
      --gray-100: #F1F5F9;
      --gray-200: #E2E8F0;
      --gray-300: #CBD5E1;
      --gray-400: #94A3B8;
      --gray-500: #64748B;
      --gray-600: #475569;
      --gray-700: #334155;
      --gray-800: #1E293B;
      --gray-900: #0F172A;
      --card-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
      --card-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--gray-50);
      color: var(--gray-800);
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
    }

    /* Navigation */
    nav {
      position: fixed;
      top: 0; left: 0; right: 0;
      height: 72px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--gray-200);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 40px;
      z-index: 1000;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 14px;
    }

    .logo-icon {
      width: 40px; height: 40px;
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 12px var(--primary-glow);
    }

    .logo-icon svg { width: 22px; height: 22px; }

    .logo-text .brand {
      font-size: 18px;
      font-weight: 700;
      color: var(--primary);
      letter-spacing: -0.5px;
    }

    .logo-text .tagline {
      font-size: 10px;
      font-weight: 600;
      color: var(--gray-400);
      text-transform: uppercase;
      letter-spacing: 1.5px;
    }

    .nav-divider {
      width: 1px; height: 28px;
      background: var(--gray-200);
      margin-left: 20px;
    }

    .nav-product {
      font-size: 15px;
      font-weight: 600;
      color: var(--navy);
      margin-left: 20px;
    }

    .nav-links { display: flex; gap: 6px; }

    .nav-link {
      padding: 10px 18px;
      border-radius: 10px;
      font-size: 13px;
      font-weight: 500;
      color: var(--gray-500);
      background: transparent;
      border: none;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .nav-link:hover { background: var(--gray-100); color: var(--gray-700); }
    .nav-link.active { background: var(--primary); color: white; font-weight: 600; }
    .nav-link .icon { font-size: 11px; opacity: 0.7; }

    /* Views */
    .view {
      display: none;
      min-height: 100vh;
      padding-top: 72px;
      animation: fadeIn 0.4s ease;
    }
    .view.active { display: block; }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateX(-20px); }
      to { opacity: 1; transform: translateX(0); }
    }

    @keyframes scaleIn {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }

    @keyframes pulseGlow {
      0%, 100% { box-shadow: 0 0 20px var(--primary-glow); }
      50% { box-shadow: 0 0 40px var(--primary-glow); }
    }

    /* ============ TEACHER VIEW ============ */
    .teacher-view { background: var(--gray-100); }

    .teacher-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 32px 40px;
    }

    .teacher-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 28px;
    }

    .teacher-header h1 {
      font-size: 28px;
      font-weight: 800;
      color: var(--navy);
      letter-spacing: -0.5px;
    }

    .teacher-header .subtitle {
      font-size: 14px;
      color: var(--gray-500);
      margin-top: 4px;
    }

    .header-actions { display: flex; gap: 12px; }

    .btn {
      padding: 12px 20px;
      border-radius: 12px;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 8px;
      font-family: inherit;
      border: none;
    }

    .btn:hover { transform: translateY(-2px); }
    .btn.secondary { background: white; border: 1px solid var(--gray-200); color: var(--navy); }
    .btn.primary { background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); color: white; }

    /* Class Roster - Compact List */
    .class-roster {
      background: white;
      border-radius: 16px;
      box-shadow: var(--card-shadow);
      margin-bottom: 24px;
    }

    .roster-header {
      padding: 20px 24px;
      border-bottom: 1px solid var(--gray-100);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .roster-header h2 {
      font-size: 16px;
      font-weight: 700;
      color: var(--navy);
    }

    .roster-filters {
      display: flex;
      gap: 8px;
    }

    .filter-btn {
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 500;
      cursor: pointer;
      border: 1px solid var(--gray-200);
      background: white;
      color: var(--gray-500);
      transition: all 0.2s ease;
    }

    .filter-btn.active {
      background: var(--primary);
      border-color: var(--primary);
      color: white;
    }

    .filter-btn.warning-filter.active { background: var(--warning); border-color: var(--warning); }
    .filter-btn.celebration-filter.active { background: var(--success); border-color: var(--success); }

    .roster-list { max-height: 280px; overflow-y: auto; }

    .roster-row {
      display: flex;
      align-items: center;
      padding: 14px 24px;
      border-bottom: 1px solid var(--gray-50);
      cursor: pointer;
      transition: all 0.15s ease;
    }

    .roster-row:hover { background: var(--gray-50); }
    .roster-row.selected { background: rgba(0, 103, 177, 0.06); border-left: 3px solid var(--primary); }
    .roster-row.has-alert { background: linear-gradient(90deg, rgba(245, 158, 11, 0.06) 0%, transparent 50%); }
    .roster-row.has-celebration { background: linear-gradient(90deg, rgba(16, 185, 129, 0.06) 0%, transparent 50%); }

    .roster-avatar {
      width: 38px; height: 38px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 13px;
      color: white;
      margin-right: 14px;
      flex-shrink: 0;
    }

    .roster-avatar.default { background: var(--gray-300); color: var(--gray-600); }
    .roster-avatar.alert { background: linear-gradient(135deg, var(--warning) 0%, #F97316 100%); }
    .roster-avatar.celebration { background: linear-gradient(135deg, var(--success) 0%, #34D399 100%); }

    .roster-info { flex: 1; }
    .roster-info .name { font-weight: 600; color: var(--navy); font-size: 14px; }
    .roster-info .goal { font-size: 12px; color: var(--gray-500); margin-top: 2px; }

    .roster-badges { display: flex; gap: 6px; margin-right: 16px; }

    .mini-badge {
      width: 24px; height: 24px;
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
    }

    .mini-badge.alert { background: rgba(245, 158, 11, 0.15); }
    .mini-badge.celebration { background: rgba(16, 185, 129, 0.15); }
    .mini-badge.event { background: rgba(139, 92, 246, 0.15); }

    .roster-points {
      text-align: right;
      min-width: 60px;
    }

    .roster-points .value {
      font-size: 18px;
      font-weight: 800;
      color: var(--primary);
    }

    .roster-points .label {
      font-size: 10px;
      color: var(--gray-400);
      text-transform: uppercase;
    }

    /* Student Detail Panel */
    .student-detail-panel {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 20px;
    }

    .detail-card {
      background: white;
      border-radius: 16px;
      box-shadow: var(--card-shadow);
      overflow: hidden;
      animation: scaleIn 0.3s ease both;
    }

    .detail-card:nth-child(1) { animation-delay: 0.05s; }
    .detail-card:nth-child(2) { animation-delay: 0.1s; }
    .detail-card:nth-child(3) { animation-delay: 0.15s; }

    .card-header {
      padding: 18px 22px;
      border-bottom: 1px solid var(--gray-100);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .card-header h3 {
      font-size: 14px;
      font-weight: 700;
      color: var(--navy);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .card-header .icon {
      width: 28px; height: 28px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
    }

    .card-content { padding: 18px 22px; }

    /* Student Profile Card */
    .profile-card .student-hero {
      display: flex;
      align-items: center;
      gap: 16px;
      padding-bottom: 18px;
      border-bottom: 1px solid var(--gray-100);
      margin-bottom: 18px;
    }

    .student-hero .avatar {
      width: 64px; height: 64px;
      border-radius: 16px;
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 24px;
      font-weight: 700;
    }

    .student-hero .info h2 {
      font-size: 20px;
      font-weight: 700;
      color: var(--navy);
    }

    .student-hero .info .meta {
      font-size: 13px;
      color: var(--gray-500);
      margin-top: 2px;
    }

    .student-hero .points {
      margin-left: auto;
      text-align: center;
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      padding: 12px 20px;
      border-radius: 12px;
      color: white;
    }

    .student-hero .points .number {
      font-size: 28px;
      font-weight: 800;
      line-height: 1;
    }

    .student-hero .points .label {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 1px;
      opacity: 0.8;
    }

    .goal-section {
      background: linear-gradient(135deg, rgba(0, 103, 177, 0.06) 0%, rgba(0, 103, 177, 0.02) 100%);
      border: 1px solid rgba(0, 103, 177, 0.15);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 18px;
    }

    .goal-section .label {
      font-size: 10px;
      font-weight: 700;
      color: var(--primary);
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 6px;
    }

    .goal-section .goal-text {
      font-size: 15px;
      font-weight: 600;
      color: var(--navy);
      line-height: 1.4;
    }

    .purpose-themes { display: flex; flex-direction: column; gap: 10px; }

    .theme-row {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .theme-row .icon {
      width: 32px; height: 32px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
    }

    .theme-row .info { flex: 1; }
    .theme-row .name { font-size: 13px; font-weight: 600; color: var(--navy); }

    .theme-row .bar {
      height: 4px;
      background: var(--gray-200);
      border-radius: 2px;
      margin-top: 4px;
      overflow: hidden;
    }

    .theme-row .bar-fill {
      height: 100%;
      border-radius: 2px;
    }

    .theme-row .percent {
      font-size: 12px;
      font-weight: 700;
      min-width: 36px;
      text-align: right;
    }

    /* Celebration & Support Cards */
    .insight-item {
      display: flex;
      gap: 12px;
      padding: 14px 0;
      border-bottom: 1px solid var(--gray-50);
    }

    .insight-item:last-child { border-bottom: none; }

    .insight-item .icon-box {
      width: 36px; height: 36px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      flex-shrink: 0;
    }

    .insight-item.celebration .icon-box { background: rgba(16, 185, 129, 0.12); }
    .insight-item.support .icon-box { background: rgba(245, 158, 11, 0.12); }

    .insight-item .content { flex: 1; }
    .insight-item .text { font-size: 13px; color: var(--navy); line-height: 1.5; }
    .insight-item .meta { font-size: 11px; color: var(--gray-400); margin-top: 4px; }
    .insight-item .source { color: var(--primary); font-weight: 500; }

    .insight-action {
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 11px;
      font-weight: 600;
      cursor: pointer;
      border: none;
      transition: all 0.15s ease;
      align-self: flex-start;
    }

    .insight-action.celebrate { background: rgba(16, 185, 129, 0.1); color: var(--success); }
    .insight-action.address { background: rgba(245, 158, 11, 0.1); color: var(--warning); }

    /* Learning Modules */
    .module-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      background: var(--gray-50);
      border-radius: 10px;
      margin-bottom: 10px;
      cursor: pointer;
      transition: all 0.15s ease;
    }

    .module-item:hover { background: var(--gray-100); transform: translateX(4px); }
    .module-item:last-child { margin-bottom: 0; }

    .module-item .icon {
      width: 40px; height: 40px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      flex-shrink: 0;
    }

    .module-item .info { flex: 1; }
    .module-item .title { font-size: 13px; font-weight: 600; color: var(--navy); }
    .module-item .desc { font-size: 11px; color: var(--gray-500); margin-top: 2px; }
    .module-item .tag {
      font-size: 10px;
      font-weight: 600;
      padding: 4px 8px;
      border-radius: 4px;
      text-transform: uppercase;
    }

    .module-item .tag.ai { background: rgba(139, 92, 246, 0.1); color: var(--purple); }
    .module-item .tag.cte { background: rgba(0, 103, 177, 0.1); color: var(--primary); }

    /* RTCC Career Section */
    .rtcc-section {
      background: linear-gradient(135deg, rgba(139, 92, 246, 0.06) 0%, rgba(139, 92, 246, 0.02) 100%);
      border: 1px solid rgba(139, 92, 246, 0.15);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 16px;
    }

    .rtcc-section .header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 12px;
    }

    .rtcc-section .header .badge {
      background: var(--purple);
      color: white;
      font-size: 10px;
      font-weight: 700;
      padding: 4px 8px;
      border-radius: 4px;
      text-transform: uppercase;
    }

    .rtcc-section .header .title {
      font-size: 12px;
      font-weight: 600;
      color: var(--purple);
    }

    .rtcc-item {
      display: flex;
      gap: 8px;
      margin-bottom: 8px;
    }

    .rtcc-item:last-child { margin-bottom: 0; }
    .rtcc-item .label { font-size: 11px; color: var(--gray-500); min-width: 80px; }
    .rtcc-item .value { font-size: 12px; color: var(--navy); font-weight: 500; }

    /* Events & Visits Section - Full Width */
    .events-section {
      grid-column: span 3;
      background: white;
      border-radius: 16px;
      box-shadow: var(--card-shadow);
      margin-top: 20px;
    }

    .events-header {
      padding: 20px 24px;
      border-bottom: 1px solid var(--gray-100);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .events-header h3 {
      font-size: 16px;
      font-weight: 700;
      color: var(--navy);
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .events-header .ai-badge {
      background: linear-gradient(135deg, var(--purple) 0%, var(--pink) 100%);
      color: white;
      font-size: 10px;
      font-weight: 700;
      padding: 4px 10px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .events-content { padding: 20px 24px; }

    .event-card {
      background: var(--gray-50);
      border-radius: 14px;
      padding: 20px;
      margin-bottom: 16px;
      border: 1px solid var(--gray-100);
    }

    .event-card:last-child { margin-bottom: 0; }

    .event-card.needs-feedback {
      background: linear-gradient(135deg, rgba(139, 92, 246, 0.06) 0%, rgba(236, 72, 153, 0.04) 100%);
      border-color: rgba(139, 92, 246, 0.2);
      animation: pulseGlow 3s ease-in-out infinite;
    }

    .event-top {
      display: flex;
      align-items: flex-start;
      gap: 16px;
      margin-bottom: 16px;
    }

    .event-icon {
      width: 52px; height: 52px;
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      flex-shrink: 0;
    }

    .event-icon.visit { background: linear-gradient(135deg, var(--purple) 0%, var(--pink) 100%); }
    .event-icon.cte { background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); }
    .event-icon.fair { background: linear-gradient(135deg, var(--orange) 0%, #F97316 100%); }

    .event-info { flex: 1; }
    .event-info .title { font-size: 16px; font-weight: 700; color: var(--navy); margin-bottom: 4px; }
    .event-info .meta { font-size: 13px; color: var(--gray-500); }
    .event-info .meta .source { color: var(--purple); font-weight: 500; }

    .event-status {
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 11px;
      font-weight: 600;
    }

    .event-status.needs-input {
      background: linear-gradient(135deg, var(--purple) 0%, var(--pink) 100%);
      color: white;
      animation: pulse 2s infinite;
    }

    .event-status.complete { background: rgba(16, 185, 129, 0.1); color: var(--success); }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }

    /* Feedback Gestalt */
    .feedback-gestalt {
      background: white;
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 16px;
    }

    .gestalt-header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 14px;
    }

    .gestalt-header .title {
      font-size: 12px;
      font-weight: 700;
      color: var(--gray-600);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .gestalt-header .count {
      background: var(--gray-200);
      color: var(--gray-600);
      font-size: 11px;
      font-weight: 600;
      padding: 2px 8px;
      border-radius: 10px;
    }

    .feedback-items { display: flex; flex-direction: column; gap: 12px; }

    .feedback-item {
      display: flex;
      gap: 12px;
      padding: 12px;
      background: var(--gray-50);
      border-radius: 10px;
    }

    .feedback-item .avatar {
      width: 36px; height: 36px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      flex-shrink: 0;
    }

    .feedback-item .avatar.teacher { background: rgba(0, 103, 177, 0.15); }
    .feedback-item .avatar.counselor { background: rgba(139, 92, 246, 0.15); }
    .feedback-item .avatar.student { background: rgba(236, 72, 153, 0.15); }
    .feedback-item .avatar.staff { background: rgba(255, 111, 0, 0.15); }

    .feedback-item .content { flex: 1; }
    .feedback-item .author { font-size: 12px; font-weight: 600; color: var(--navy); }
    .feedback-item .role { font-size: 11px; color: var(--gray-400); }
    .feedback-item .text { font-size: 13px; color: var(--gray-700); margin-top: 6px; line-height: 1.5; }

    .feedback-item .sentiment {
      display: flex;
      gap: 4px;
      margin-top: 8px;
    }

    .sentiment-tag {
      font-size: 10px;
      font-weight: 600;
      padding: 3px 8px;
      border-radius: 4px;
    }

    .sentiment-tag.positive { background: rgba(16, 185, 129, 0.1); color: var(--success); }
    .sentiment-tag.growth { background: rgba(139, 92, 246, 0.1); color: var(--purple); }
    .sentiment-tag.interest { background: rgba(255, 111, 0, 0.1); color: var(--orange); }

    /* Quick Feedback Form */
    .quick-feedback {
      background: linear-gradient(135deg, rgba(139, 92, 246, 0.08) 0%, rgba(236, 72, 153, 0.06) 100%);
      border: 1px solid rgba(139, 92, 246, 0.2);
      border-radius: 12px;
      padding: 18px;
    }

    .quick-feedback .prompt {
      font-size: 14px;
      font-weight: 600;
      color: var(--navy);
      margin-bottom: 14px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .quick-feedback .prompt .ai-icon {
      background: linear-gradient(135deg, var(--purple) 0%, var(--pink) 100%);
      color: white;
      width: 24px; height: 24px;
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
    }

    .quick-options {
      display: flex;
      gap: 8px;
      margin-bottom: 14px;
      flex-wrap: wrap;
    }

    .quick-option {
      padding: 10px 16px;
      border-radius: 10px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      border: 1px solid var(--gray-200);
      background: white;
      color: var(--gray-600);
      transition: all 0.15s ease;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .quick-option:hover { border-color: var(--purple); color: var(--purple); }
    .quick-option.selected { background: var(--purple); border-color: var(--purple); color: white; }

    .feedback-note {
      display: flex;
      gap: 10px;
    }

    .feedback-note input {
      flex: 1;
      padding: 12px 16px;
      border: 1px solid var(--gray-200);
      border-radius: 10px;
      font-size: 13px;
      outline: none;
      font-family: inherit;
    }

    .feedback-note input:focus { border-color: var(--purple); }

    .feedback-note .submit-btn {
      padding: 12px 20px;
      background: linear-gradient(135deg, var(--purple) 0%, var(--pink) 100%);
      border: none;
      border-radius: 10px;
      color: white;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.15s ease;
    }

    .feedback-note .submit-btn:hover { transform: translateY(-2px); }

    /* Anyone Can Contribute */
    .contributor-note {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 16px;
      background: rgba(16, 185, 129, 0.06);
      border-radius: 10px;
      margin-top: 12px;
    }

    .contributor-note .icon {
      font-size: 18px;
    }

    .contributor-note .text {
      font-size: 12px;
      color: var(--gray-600);
    }

    .contributor-note .text strong {
      color: var(--success);
    }

    /* Modal Overlay */
    .modal-overlay {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
    }

    .modal-overlay.active { display: flex; }

    .modal {
      background: white;
      border-radius: 24px;
      padding: 32px;
      width: 480px;
      max-width: 90vw;
      animation: scaleIn 0.2s ease;
    }

    .modal h2 {
      font-size: 20px;
      font-weight: 700;
      color: var(--navy);
      margin-bottom: 8px;
    }

    .modal .subtitle {
      font-size: 14px;
      color: var(--gray-500);
      margin-bottom: 24px;
    }

    .modal-actions {
      display: flex;
      gap: 12px;
      margin-top: 24px;
    }

    .modal-btn {
      flex: 1;
      padding: 14px;
      border-radius: 12px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      border: none;
      transition: all 0.15s ease;
      font-family: inherit;
    }

    .modal-btn.primary { background: var(--primary); color: white; }
    .modal-btn.secondary { background: var(--gray-100); color: var(--gray-600); }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="nav nav--light">
    <a href="index.html" class="nav__logo">
      <img src="uplift-logo.png" alt="Uplift Education" class="nav__logo-img">
      <div class="nav__divider"></div>
      <span class="nav__product">Purpose Engine</span>
    </a>
    <button class="nav__toggle" onclick="toggleNav()">‚ò∞</button>
    <div class="nav__links" id="navLinks">
      <a href="index.html" class="nav__link">
        <span class="nav__link-icon">üè†</span>
        <span class="nav__link-text">Home</span>
      </a>
      <a href="student-dashboard.html" class="nav__link">
        <span class="nav__link-icon">üìä</span>
        <span class="nav__link-text">Student</span>
      </a>
      <a href="career-bridge.html" class="nav__link">
        <span class="nav__link-icon">üéØ</span>
        <span class="nav__link-text">Career Bridge</span>
      </a>
      <a href="future-self.html" class="nav__link">
        <span class="nav__link-icon">üîÆ</span>
        <span class="nav__link-text">Future Self</span>
      </a>
      <a href="educator-dashboard.html" class="nav__link nav__link--active">
        <span class="nav__link-icon">üë©‚Äçüè´</span>
        <span class="nav__link-text">Educator</span>
      </a>
    </div>
  </nav>

  <!-- Teacher View -->
  <div class="view teacher-view active" id="teacher">
    <div class="teacher-container">
      <!-- Header -->
      <div class="teacher-header">
        <div>
          <h1>Chemistry ‚Äî Period 3</h1>
          <div class="subtitle">Mrs. Rodriguez ‚Ä¢ 24 students ‚Ä¢ 3 insights pending</div>
        </div>
        <div class="header-actions">
          <button class="btn secondary">‚ö° Transform Assignment</button>
          <button class="btn primary">üìä Class Analytics</button>
        </div>
      </div>

      <!-- Class Roster -->
      <div class="class-roster">
        <div class="roster-header">
          <h2>Student Roster</h2>
          <div class="roster-filters">
            <button class="filter-btn active">All Students</button>
            <button class="filter-btn warning-filter">‚ö†Ô∏è Needs Support (2)</button>
            <button class="filter-btn celebration-filter">üéâ Celebrate (3)</button>
            <button class="filter-btn">üìç Recent Events (4)</button>
          </div>
        </div>
        <div class="roster-list">
          <div class="roster-row has-alert selected" onclick="selectStudent('maya')">
            <div class="roster-avatar alert">MC</div>
            <div class="roster-info">
              <div class="name">Maya Chen</div>
              <div class="goal">üéØ Become a Sustainable Design Director</div>
            </div>
            <div class="roster-badges">
              <div class="mini-badge alert" title="Needs support">‚ö†Ô∏è</div>
              <div class="mini-badge event" title="Recent event">üìç</div>
            </div>
            <div class="roster-points">
              <div class="value">67</div>
              <div class="label">Points</div>
            </div>
          </div>
          <div class="roster-row has-celebration" onclick="selectStudent('jordan')">
            <div class="roster-avatar celebration">JW</div>
            <div class="roster-info">
              <div class="name">Jordan Williams</div>
              <div class="goal">üéØ Launch a tech startup before 25</div>
            </div>
            <div class="roster-badges">
              <div class="mini-badge celebration" title="Celebration">üéâ</div>
              <div class="mini-badge event" title="Recent event">üìç</div>
            </div>
            <div class="roster-points">
              <div class="value">52</div>
              <div class="label">Points</div>
            </div>
          </div>
          <div class="roster-row" onclick="selectStudent('alex')">
            <div class="roster-avatar default">AR</div>
            <div class="roster-info">
              <div class="name">Alex Rivera</div>
              <div class="goal">üéØ Become a pediatric surgeon</div>
            </div>
            <div class="roster-badges"></div>
            <div class="roster-points">
              <div class="value">71</div>
              <div class="label">Points</div>
            </div>
          </div>
          <div class="roster-row has-celebration" onclick="selectStudent('sam')">
            <div class="roster-avatar celebration">ST</div>
            <div class="roster-info">
              <div class="name">Sam Thompson</div>
              <div class="goal">üéØ Build robots that help people</div>
            </div>
            <div class="roster-badges">
              <div class="mini-badge celebration" title="Celebration">üéâ</div>
            </div>
            <div class="roster-points">
              <div class="value">34</div>
              <div class="label">Points</div>
            </div>
          </div>
          <div class="roster-row" onclick="selectStudent('taylor')">
            <div class="roster-avatar default">TK</div>
            <div class="roster-info">
              <div class="name">Taylor Kim</div>
              <div class="goal">üéØ Work in marine conservation</div>
            </div>
            <div class="roster-badges">
              <div class="mini-badge event" title="Recent event">üìç</div>
            </div>
            <div class="roster-points">
              <div class="value">58</div>
              <div class="label">Points</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Student Detail Panel -->
      <div class="student-detail-panel" id="detail-panel">
        <!-- Profile & Goal Card -->
        <div class="detail-card profile-card">
          <div class="card-content">
            <div class="student-hero">
              <div class="avatar">MC</div>
              <div class="info">
                <h2>Maya Chen</h2>
                <div class="meta">11th Grade ‚Ä¢ Hampton Prep</div>
              </div>
              <div class="points">
                <div class="number">67</div>
                <div class="label">Points</div>
              </div>
            </div>

            <div class="goal-section">
              <div class="label">üéØ Their Goal</div>
              <div class="goal-text">"I want to become a Sustainable Design Director who creates buildings that heal the planet."</div>
            </div>

            <div class="purpose-themes">
              <div class="theme-row">
                <div class="icon" style="background: rgba(232, 107, 107, 0.15);">üé®</div>
                <div class="info">
                  <div class="name">Creative Technology</div>
                  <div class="bar"><div class="bar-fill" style="width: 85%; background: #E86B6B;"></div></div>
                </div>
                <div class="percent" style="color: #E86B6B;">85%</div>
              </div>
              <div class="theme-row">
                <div class="icon" style="background: rgba(76, 175, 80, 0.15);">üå±</div>
                <div class="info">
                  <div class="name">Environmental Science</div>
                  <div class="bar"><div class="bar-fill" style="width: 72%; background: #4CAF50;"></div></div>
                </div>
                <div class="percent" style="color: #4CAF50;">72%</div>
              </div>
              <div class="theme-row">
                <div class="icon" style="background: rgba(255, 183, 77, 0.15);">üí°</div>
                <div class="info">
                  <div class="name">Entrepreneurship</div>
                  <div class="bar"><div class="bar-fill" style="width: 64%; background: #FFB74D;"></div></div>
                </div>
                <div class="percent" style="color: #FFB74D;">64%</div>
              </div>
            </div>

            <!-- RTCC Career Info -->
            <div class="rtcc-section" style="margin-top: 18px;">
              <div class="header">
                <span class="badge">RTCC</span>
                <span class="title">Career Pathway Notes</span>
              </div>
              <div class="rtcc-item">
                <span class="label">Counselor:</span>
                <span class="value">Ms. Patterson</span>
              </div>
              <div class="rtcc-item">
                <span class="label">Pathway:</span>
                <span class="value">Architecture & Construction ‚Üí Green Building</span>
              </div>
              <div class="rtcc-item">
                <span class="label">College List:</span>
                <span class="value">UT Austin, Texas A&M, Rice</span>
              </div>
              <div class="rtcc-item">
                <span class="label">Last Meeting:</span>
                <span class="value">Jan 8 ‚Äî Discussed summer internships</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Celebrations Card -->
        <div class="detail-card">
          <div class="card-header">
            <h3>
              <span class="icon" style="background: rgba(16, 185, 129, 0.12);">üéâ</span>
              Areas for Celebration
            </h3>
          </div>
          <div class="card-content">
            <div class="insight-item celebration">
              <div class="icon-box">‚ú®</div>
              <div class="content">
                <div class="text">Connected chemistry concepts to sustainable building materials without prompting</div>
                <div class="meta">Jan 15 ‚Ä¢ <span class="source">AI Observed</span></div>
              </div>
              <button class="insight-action celebrate">Celebrate</button>
            </div>
            <div class="insight-item celebration">
              <div class="icon-box">üèÜ</div>
              <div class="content">
                <div class="text">Led team discussion on renewable materials ‚Äî peers responded positively</div>
                <div class="meta">Jan 12 ‚Ä¢ <span class="source">Teacher Validated</span></div>
              </div>
              <button class="insight-action celebrate">Celebrate</button>
            </div>
            <div class="insight-item celebration">
              <div class="icon-box">üìà</div>
              <div class="content">
                <div class="text">Purpose Points up 18% this semester ‚Äî steady engagement growth</div>
                <div class="meta">Trend ‚Ä¢ <span class="source">System</span></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Support & Inquiry Card -->
        <div class="detail-card">
          <div class="card-header">
            <h3>
              <span class="icon" style="background: rgba(245, 158, 11, 0.12);">üîç</span>
              Areas for Inquiry
            </h3>
          </div>
          <div class="card-content">
            <div class="insight-item support">
              <div class="icon-box">‚ö†Ô∏è</div>
              <div class="content">
                <div class="text">2 missing assignments + 2 absences this week ‚Äî unusual pattern for Maya</div>
                <div class="meta">Jan 14-16 ‚Ä¢ <span class="source">PowerSchool + Schoology</span></div>
              </div>
              <button class="insight-action address" onclick="showCheckInModal()">Check In</button>
            </div>
            <div class="insight-item support">
              <div class="icon-box">üí≠</div>
              <div class="content">
                <div class="text">Quieter than usual in morning classes, more engaged after lunch</div>
                <div class="meta">This week ‚Ä¢ <span class="source">AI Pattern</span></div>
              </div>
              <button class="insight-action address">Ask About</button>
            </div>

            <!-- Suggested Learning Modules -->
            <div style="margin-top: 20px; padding-top: 16px; border-top: 1px solid var(--gray-100);">
              <div style="font-size: 12px; font-weight: 700; color: var(--gray-500); margin-bottom: 12px; text-transform: uppercase; letter-spacing: 0.5px;">
                üí° Suggested Learning Modules
              </div>
              <div class="module-item">
                <div class="icon" style="background: rgba(139, 92, 246, 0.12);">üß™</div>
                <div class="info">
                  <div class="title">Green Chemistry Fundamentals</div>
                  <div class="desc">Connects stoichiometry to sustainable materials</div>
                </div>
                <span class="tag ai">AI Rec</span>
              </div>
              <div class="module-item">
                <div class="icon" style="background: rgba(0, 103, 177, 0.12);">üèóÔ∏è</div>
                <div class="info">
                  <div class="title">Sustainable Building Materials</div>
                  <div class="desc">CTE module aligned with her pathway</div>
                </div>
                <span class="tag cte">CTE</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Events & Visits Section - Full Width -->
        <div class="events-section">
          <div class="events-header">
            <h3>
              üìç Recent Events & Site Visits
              <span class="ai-badge">ü§ñ AI monitors Schoolinks for feedback</span>
            </h3>
          </div>
          <div class="events-content">
            <!-- Event needing feedback -->
            <div class="event-card needs-feedback">
              <div class="event-top">
                <div class="event-icon visit">üè≠</div>
                <div class="event-info">
                  <div class="title">Tesla Gigafactory Tour ‚Äî Sustainable Manufacturing</div>
                  <div class="meta">Jan 12, 2025 ‚Ä¢ <span class="source">via Schoolinks</span> ‚Ä¢ 3 hours</div>
                </div>
                <span class="event-status needs-input">‚ú® Feedback Needed</span>
              </div>

              <!-- Feedback Gestalt -->
              <div class="feedback-gestalt">
                <div class="gestalt-header">
                  <span class="title">Feedback Collected</span>
                  <span class="count">2 of 4 expected</span>
                </div>
                <div class="feedback-items">
                  <div class="feedback-item">
                    <div class="avatar student">üôã</div>
                    <div class="content">
                      <div class="author">Maya Chen <span class="role">‚Ä¢ Student Self-Reflection</span></div>
                      <div class="text">"The battery chemistry section was amazing ‚Äî I finally see why stoichiometry matters! The engineer showed us how wrong ratios caused a batch failure. I want to learn more about their material sourcing."</div>
                      <div class="sentiment">
                        <span class="sentiment-tag positive">High Engagement</span>
                        <span class="sentiment-tag interest">Chemistry Connection</span>
                      </div>
                    </div>
                  </div>
                  <div class="feedback-item">
                    <div class="avatar counselor">üë©‚Äçüíº</div>
                    <div class="content">
                      <div class="author">Ms. Patterson <span class="role">‚Ä¢ RTCC Counselor</span></div>
                      <div class="text">"Maya asked excellent questions about sustainability certifications. Recommended connecting with the LEED specialist we met. Strong career alignment observed."</div>
                      <div class="sentiment">
                        <span class="sentiment-tag positive">Career Aligned</span>
                        <span class="sentiment-tag growth">Initiative</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Quick Feedback Form -->
              <div class="quick-feedback">
                <div class="prompt">
                  <span class="ai-icon">ü§ñ</span>
                  Did you observe Maya during or after the Tesla visit? Quick feedback helps complete the picture.
                </div>
                <div class="quick-options">
                  <button class="quick-option" onclick="toggleOption(this)">üåü Showed excitement</button>
                  <button class="quick-option" onclick="toggleOption(this)">üí¨ Talked about it</button>
                  <button class="quick-option" onclick="toggleOption(this)">üîó Made connections</button>
                  <button class="quick-option" onclick="toggleOption(this)">üòê Seemed neutral</button>
                  <button class="quick-option" onclick="toggleOption(this)">ü§î Seemed confused</button>
                </div>
                <div class="feedback-note">
                  <input type="text" placeholder="Add a note (optional) ‚Äî e.g., 'She mentioned the battery chemistry in class today'">
                  <button class="submit-btn">Submit Feedback</button>
                </div>
                <div class="contributor-note">
                  <span class="icon">üë•</span>
                  <span class="text"><strong>Anyone can contribute:</strong> Teachers, counselors, staff, or Maya herself. All perspectives help build the complete picture.</span>
                </div>
              </div>
            </div>

            <!-- Completed event -->
            <div class="event-card">
              <div class="event-top">
                <div class="event-icon cte">üéì</div>
                <div class="event-info">
                  <div class="title">Digital Communications CTE Module ‚Äî Completed</div>
                  <div class="meta">Jan 8, 2025 ‚Ä¢ <span class="source">via Schoolinks</span></div>
                </div>
                <span class="event-status complete">‚úì Complete</span>
              </div>
              <div class="feedback-gestalt">
                <div class="gestalt-header">
                  <span class="title">Impact Summary</span>
                  <span class="count">4 contributions</span>
                </div>
                <div style="display: flex; gap: 12px; flex-wrap: wrap;">
                  <span class="sentiment-tag positive">+5 Purpose Points</span>
                  <span class="sentiment-tag growth">New Skill: Video Production</span>
                  <span class="sentiment-tag interest">Applied to EcoTrack project</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Check-In Modal -->
  <div class="modal-overlay" id="checkin-modal">
    <div class="modal" onclick="event.stopPropagation()">
      <h2>Quick Check-In: Maya Chen</h2>
      <div class="subtitle">AI detected unusual patterns ‚Äî 2 absences + 2 missing assignments this week</div>
      
      <div style="background: var(--gray-50); border-radius: 12px; padding: 16px; margin-bottom: 20px;">
        <div style="font-size: 12px; font-weight: 600; color: var(--gray-500); margin-bottom: 10px;">SUGGESTED CONVERSATION STARTERS</div>
        <div style="font-size: 14px; color: var(--navy); line-height: 1.7;">
          ‚Ä¢ "Hey Maya, I noticed you've been out a couple days. Everything okay?"<br>
          ‚Ä¢ "The Tesla trip sounded amazing ‚Äî want to tell me what stood out?"<br>
          ‚Ä¢ "I see the chemistry assignment is still pending. How can I help?"
        </div>
      </div>

      <div style="background: rgba(0, 103, 177, 0.06); border-radius: 12px; padding: 16px;">
        <div style="font-size: 12px; font-weight: 600; color: var(--primary); margin-bottom: 8px;">üí° CONTEXT FROM HER GOAL</div>
        <div style="font-size: 13px; color: var(--gray-700);">
          Maya wants to be a Sustainable Design Director. The missing chemistry assignment could be reframed as "calculating material ratios for eco-friendly insulation" ‚Äî directly relevant to her interests.
        </div>
      </div>

      <div class="modal-actions">
        <button class="modal-btn secondary" onclick="closeModal()">Later</button>
        <button class="modal-btn primary" onclick="closeModal()">Mark as Checked In</button>
      </div>
    </div>
  </div>

  <script>
    function toggleNav() {
      document.getElementById('navLinks').classList.toggle('open');
    }
    
    document.addEventListener('click', function(e) {
      const nav = document.getElementById('navLinks');
      const toggle = document.querySelector('.nav__toggle');
      if (nav && toggle && !nav.contains(e.target) && !toggle.contains(e.target)) {
        nav.classList.remove('open');
      }
    });

    function selectStudent(id) {
      document.querySelectorAll('.roster-row').forEach(r => r.classList.remove('selected'));
      event.currentTarget.classList.add('selected');
      // In real app, this would load different student data
    }

    function toggleOption(btn) {
      btn.classList.toggle('selected');
    }

    function showCheckInModal() {
      document.getElementById('checkin-modal').classList.add('active');
    }

    function closeModal() {
      document.querySelectorAll('.modal-overlay').forEach(m => m.classList.remove('active'));
    }

    document.getElementById('checkin-modal').addEventListener('click', function(e) {
      if (e.target === this) closeModal();
    });

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeModal();
    });
  </script>
</body>
</html>
